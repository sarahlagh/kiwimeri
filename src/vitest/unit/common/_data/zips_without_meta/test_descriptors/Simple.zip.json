{
  "zipName": "Simple.zip",
  "testCases": [
    {
      "description": "with no init data",
      "initData": [],
      "scenarios": [
        {
          "description": "and createNewFolder=true",
          "options": [
            {
              "createNewFolder": true,
              "overwrite": false
            },
            {
              "createNewFolder": true,
              "overwrite": true
            },
            {
              "createNewFolder": true,
              "overwrite": false,
              "removeFirstLayer": true
            },
            {
              "createNewFolder": true,
              "overwrite": true,
              "removeFirstLayer": true
            }
          ],
          "expected": {
            "newItems": [
              {
                "id": "#id",
                "title": "Simple",
                "parent": "0",
                "type": "f"
              },
              {
                "title": "Simple",
                "parent": "#id",
                "type": "d",
                "content": "__defined__"
              }
            ],
            "firstLevel": [
              {
                "title": "Simple",
                "type": "f",
                "status": "new"
              }
            ]
          }
        },
        {
          "description": "and createNewFolder=true, newFolderName=NewName",
          "options": [
            {
              "createNewFolder": true,
              "newFolderName": "NewName",
              "overwrite": false
            },
            {
              "createNewFolder": true,
              "newFolderName": "NewName",
              "overwrite": true
            }
          ],
          "expected": {
            "newItems": [
              {
                "id": "#id",
                "title": "NewName",
                "parent": "0",
                "type": "f"
              },
              {
                "title": "Simple",
                "parent": "#id",
                "type": "d",
                "content": "__defined__"
              }
            ],
            "firstLevel": [
              {
                "title": "NewName",
                "status": "new",
                "type": "f"
              }
            ]
          }
        },
        {
          "description": "with createNewFolder=false",
          "options": [
            {
              "createNewFolder": false,
              "overwrite": false
            },
            {
              "createNewFolder": false,
              "overwrite": true
            },
            {
              "createNewFolder": false,
              "newFolderName": "NewName",
              "overwrite": false
            },
            {
              "createNewFolder": false,
              "newFolderName": "NewName",
              "overwrite": true
            }
          ],
          "expected": {
            "newItems": [
              {
                "title": "Simple",
                "parent": "0",
                "type": "d",
                "content": "__defined__"
              }
            ],
            "firstLevel": [
              {
                "title": "Simple",
                "status": "new",
                "type": "d"
              }
            ]
          }
        },
        {
          "description": "and createNotebook=true",
          "mergeInto": "root",
          "options": [
            {
              "createNotebook": true,
              "createNewFolder": false
            },
            {
              "createNotebook": true,
              "createNewFolder": true
            }
          ],
          "expected": {
            "newItems": [
              {
                "id": "#notebook",
                "title": "Simple",
                "parent": "root",
                "type": "n"
              },
              {
                "title": "Simple",
                "parent": "#notebook",
                "type": "d",
                "content": "__defined__"
              }
            ],
            "firstLevel": [
              {
                "title": "Simple",
                "type": "n",
                "status": "new"
              }
            ]
          }
        },
        {
          "description": "and createNotebook=true and newFolderName=NewName",
          "mergeInto": "root",
          "options": [
            {
              "createNotebook": true,
              "createNewFolder": false,
              "newFolderName": "NewName"
            },
            {
              "createNotebook": true,
              "createNewFolder": true,
              "newFolderName": "NewName"
            }
          ],
          "expected": {
            "newItems": [
              {
                "id": "#notebook",
                "title": "NewName",
                "parent": "root",
                "type": "n"
              },
              {
                "title": "Simple",
                "parent": "#notebook",
                "type": "d",
                "content": "__defined__"
              }
            ],
            "firstLevel": [
              {
                "title": "NewName",
                "type": "n",
                "status": "new"
              }
            ]
          }
        }
      ]
    },
    {
      "description": "with no duplicates",
      "initData": [
        {
          "title": "AnotherDoc",
          "parent": "0",
          "type": "d"
        },
        {
          "id": "#fID",
          "title": "AnotherFolder",
          "parent": "0",
          "type": "f"
        },

        {
          "title": "AnotherDoc",
          "parent": "#fID",
          "type": "d"
        }
      ],
      "scenarios": [
        {
          "description": "and createNewFolder=true",
          "options": [
            {
              "createNewFolder": true,
              "overwrite": false
            },
            {
              "createNewFolder": true,
              "overwrite": true
            }
          ],
          "expected": {
            "newItems": [
              {
                "id": "#id",
                "title": "Simple",
                "parent": "0",
                "type": "f"
              },
              {
                "title": "Simple",
                "parent": "#id",
                "type": "d",
                "content": "__defined__"
              }
            ],
            "firstLevel": [
              {
                "title": "Simple",
                "status": "new",
                "type": "f"
              }
            ]
          }
        },
        {
          "description": "and createNewFolder=true, newFolderName=NewName",
          "options": [
            {
              "createNewFolder": true,
              "newFolderName": "NewName",
              "overwrite": false
            },
            {
              "createNewFolder": true,
              "newFolderName": "NewName",
              "overwrite": true
            }
          ],
          "expected": {
            "newItems": [
              {
                "id": "#id",
                "title": "NewName",
                "parent": "0",
                "type": "f"
              },
              {
                "title": "Simple",
                "parent": "#id",
                "type": "d",
                "content": "__defined__"
              }
            ],
            "firstLevel": [
              {
                "title": "NewName",
                "status": "new",
                "type": "f"
              }
            ]
          }
        },
        {
          "description": "with createNewFolder=false",
          "options": [
            {
              "createNewFolder": false,
              "overwrite": false
            },
            {
              "createNewFolder": false,
              "overwrite": true
            },
            {
              "createNewFolder": false,
              "newFolderName": "NewName",
              "overwrite": false
            },
            {
              "createNewFolder": false,
              "newFolderName": "NewName",
              "overwrite": true
            }
          ],
          "expected": {
            "newItems": [
              {
                "title": "Simple",
                "parent": "0",
                "type": "d",
                "content": "__defined__"
              }
            ],
            "firstLevel": [
              {
                "title": "Simple",
                "status": "new",
                "type": "d"
              }
            ]
          }
        }
      ]
    },
    {
      "description": "with duplicates",
      "initData": [
        {
          "title": "AnotherDoc",
          "parent": "0",
          "type": "d"
        },
        {
          "id": "#dID0",
          "title": "Simple",
          "parent": "0",
          "type": "d"
        },
        {
          "id": "#fID1",
          "title": "Simple",
          "parent": "0",
          "type": "f"
        },
        {
          "title": "AnotherDoc",
          "parent": "#fID1",
          "type": "d"
        },
        {
          "id": "#dID1",
          "title": "Simple",
          "parent": "#fID1",
          "type": "d"
        },
        {
          "id": "#fID2",
          "title": "AnotherFolder",
          "parent": "0",
          "type": "f"
        },
        {
          "title": "AnotherDoc",
          "parent": "#fID2",
          "type": "d"
        },
        {
          "title": "Simple",
          "parent": "#fID2",
          "type": "d"
        },
        {
          "id": "#fID3",
          "title": "AnotherFolderSimple",
          "parent": "0",
          "type": "f"
        },
        {
          "title": "AnotherDoc",
          "parent": "#fID3",
          "type": "d"
        }
      ],
      "scenarios": [
        {
          "description": "and createNewFolder=true and overwrite=false",
          "options": [
            {
              "createNewFolder": true,
              "overwrite": false
            }
          ],
          "expected": {
            "newItems": [
              {
                "id": "#id",
                "title": "Simple",
                "parent": "0",
                "type": "f"
              },
              {
                "title": "Simple",
                "parent": "#id",
                "type": "d",
                "content": "__defined__"
              }
            ],
            "firstLevel": [
              {
                "title": "Simple",
                "status": "new",
                "type": "f"
              }
            ],
            "duplicates": [
              {
                "id": "#fID1",
                "title": "Simple",
                "parent": "0",
                "type": "f"
              }
            ]
          }
        },
        {
          "description": "and createNewFolder=true and overwrite=true",
          "options": [
            {
              "createNewFolder": true,
              "overwrite": true
            }
          ],
          "expected": {
            "newItems": [],
            "updatedItems": [
              {
                "id": "#fID1",
                "title": "Simple",
                "parent": "0",
                "type": "f"
              },
              {
                "id": "#dID1",
                "title": "Simple",
                "parent": "#fID1",
                "type": "d",
                "content": "__defined__"
              }
            ],
            "firstLevel": [
              {
                "id": "#fID1",
                "title": "Simple",
                "status": "merged",
                "type": "f"
              }
            ],
            "duplicates": [
              {
                "id": "#fID1",
                "title": "Simple",
                "parent": "0",
                "type": "f"
              }
            ]
          }
        },
        {
          "description": "and createNewFolder=true and newName=NewName",
          "options": [
            {
              "createNewFolder": true,
              "newFolderName": "NewName",
              "overwrite": true
            },
            {
              "createNewFolder": true,
              "newFolderName": "NewName",
              "overwrite": false
            }
          ],
          "expected": {
            "newItems": [
              {
                "id": "#id",
                "title": "NewName",
                "parent": "0",
                "type": "f"
              },
              {
                "title": "Simple",
                "parent": "#id",
                "type": "d",
                "content": "__defined__"
              }
            ],
            "firstLevel": [
              {
                "title": "NewName",
                "status": "new",
                "type": "f"
              }
            ]
          }
        },
        {
          "description": "and createNewFolder=true and overwrite=false and newName=AnotherFolder",
          "options": [
            {
              "createNewFolder": true,
              "overwrite": false,
              "newFolderName": "AnotherFolder"
            }
          ],
          "expected": {
            "newItems": [
              {
                "id": "#id",
                "title": "AnotherFolder",
                "parent": "0",
                "type": "f"
              },
              {
                "title": "Simple",
                "parent": "#id",
                "type": "d",
                "content": "__defined__"
              }
            ],
            "firstLevel": [
              {
                "title": "AnotherFolder",
                "status": "new",
                "type": "f"
              }
            ],
            "duplicates": [
              {
                "id": "#fID2",
                "title": "AnotherFolder",
                "parent": "0",
                "type": "f"
              }
            ]
          }
        },
        {
          "description": "and createNewFolder=true and overwrite=true and newName=AnotherFolderSimple",
          "options": [
            {
              "createNewFolder": true,
              "overwrite": true,
              "newFolderName": "AnotherFolderSimple"
            }
          ],
          "expected": {
            "newItems": [
              {
                "title": "Simple",
                "parent": "#fID3",
                "type": "d",
                "content": "__defined__"
              }
            ],
            "updatedItems": [
              {
                "id": "#fID3",
                "title": "AnotherFolderSimple",
                "parent": "0",
                "type": "f"
              }
            ],
            "firstLevel": [
              {
                "id": "#fID3",
                "title": "AnotherFolderSimple",
                "status": "merged",
                "type": "f"
              }
            ],
            "duplicates": [
              {
                "id": "#fID3",
                "title": "AnotherFolderSimple",
                "parent": "0",
                "type": "f"
              }
            ]
          }
        },
        {
          "description": "and createNewFolder=true and overwrite=true and newName=AnotherFolder",
          "options": [
            {
              "createNewFolder": true,
              "overwrite": true,
              "newFolderName": "AnotherFolder"
            }
          ],
          "expected": {
            "newItems": [],
            "updatedItems": [
              {
                "id": "#fID2",
                "title": "AnotherFolder",
                "parent": "0",
                "type": "f"
              },
              {
                "title": "Simple",
                "parent": "#fID2",
                "type": "d",
                "content": "__defined__"
              }
            ],
            "firstLevel": [
              {
                "id": "#fID2",
                "title": "AnotherFolder",
                "status": "merged",
                "type": "f"
              }
            ],
            "duplicates": [
              {
                "id": "#fID2",
                "title": "AnotherFolder",
                "parent": "0",
                "type": "f"
              }
            ]
          }
        },
        {
          "description": "with createNewFolder=false and overwrite=false",
          "options": [
            {
              "createNewFolder": false,
              "overwrite": false
            },
            {
              "createNewFolder": false,
              "newFolderName": "AnotherFolder",
              "overwrite": false
            }
          ],
          "expected": {
            "newItems": [
              {
                "title": "Simple",
                "parent": "0",
                "type": "d",
                "content": "__defined__"
              }
            ],
            "firstLevel": [
              {
                "title": "Simple",
                "status": "new",
                "type": "d"
              }
            ],
            "duplicates": [
              {
                "id": "#dID0",
                "title": "Simple",
                "parent": "0",
                "type": "d"
              }
            ]
          }
        },
        {
          "description": "with createNewFolder=false and overwrite=true",
          "options": [
            {
              "createNewFolder": false,
              "overwrite": true
            },
            {
              "createNewFolder": false,
              "newFolderName": "AnotherFolder",
              "overwrite": true
            }
          ],
          "expected": {
            "updatedItems": [
              {
                "id": "#dID0",
                "title": "Simple",
                "parent": "0",
                "type": "d",
                "content": "__defined__"
              }
            ],
            "firstLevel": [
              {
                "title": "Simple",
                "status": "merged",
                "type": "d"
              }
            ],
            "duplicates": [
              {
                "id": "#dID0",
                "title": "Simple",
                "parent": "0",
                "type": "d"
              }
            ]
          }
        },
        {
          "description": "and createNotebook=true",
          "mergeInto": "root",
          "options": [
            {
              "createNotebook": true,
              "createNewFolder": false
            },
            {
              "createNotebook": true,
              "createNewFolder": true
            }
          ],
          "expected": {
            "newItems": [
              {
                "id": "#notebook",
                "title": "Simple",
                "parent": "root",
                "type": "n"
              },
              {
                "title": "Simple",
                "parent": "#notebook",
                "type": "d",
                "content": "__defined__"
              }
            ],
            "firstLevel": [
              {
                "title": "Simple",
                "type": "n",
                "status": "new"
              }
            ]
          }
        },
        {
          "description": "and createNotebook=true and newFolderName=Default and overwrite=false",
          "mergeInto": "root",
          "options": [
            {
              "createNotebook": true,
              "createNewFolder": false,
              "newFolderName": "Default",
              "overwrite": false
            },
            {
              "createNotebook": true,
              "createNewFolder": true,
              "newFolderName": "Default",
              "overwrite": false
            }
          ],
          "expected": {
            "newItems": [
              {
                "id": "#notebook",
                "title": "Default",
                "parent": "root",
                "type": "n"
              },
              {
                "id": "#dID0",
                "title": "Simple",
                "parent": "#notebook",
                "type": "d",
                "content": "__defined__"
              }
            ],
            "firstLevel": [
              {
                "title": "Default",
                "type": "n",
                "status": "new"
              }
            ],
            "duplicates": [
              {
                "id": "0",
                "title": "Default",
                "parent": "root",
                "type": "n"
              }
            ]
          }
        },
        {
          "description": "and createNotebook=true and newFolderName=Default and overwrite=true",
          "mergeInto": "root",
          "options": [
            {
              "createNotebook": true,
              "createNewFolder": false,
              "newFolderName": "Default",
              "overwrite": true
            },
            {
              "createNotebook": true,
              "createNewFolder": true,
              "newFolderName": "Default",
              "overwrite": true
            }
          ],
          "expected": {
            "updatedItems": [
              {
                "id": "0",
                "title": "Default",
                "parent": "root",
                "type": "n",
                "created": -1
              },
              {
                "id": "#dID0",
                "title": "Simple",
                "parent": "0",
                "type": "d",
                "content": "__defined__"
              }
            ],
            "firstLevel": [
              {
                "title": "Default",
                "type": "n",
                "status": "merged"
              }
            ],
            "duplicates": [
              {
                "id": "0",
                "title": "Default",
                "parent": "root",
                "type": "n"
              }
            ]
          }
        }
      ]
    }
  ]
}
